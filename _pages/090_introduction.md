---
title: Einführung
author: Peter Braun
layout: post
---


## Einleitung

Dieses Buch führt in das Design und die Programmierung eines Client/Server Systems basierend auf dem Architekturstil REST ein. Client/Server Systeme stellen die häufigste Art von sogenannten verteilten Systemen dar -- das sind Systeme aus mehreren Computern, die über ein Netzwerk miteinander verbunden sind und nur gemeinsam einen bestimmten Service für die Endkunden ermöglicht. 

Seit der Erfindung  der Möglichkeit zur Vernetzung von Computern beschäftigen sich Informatiker mit der Frage, auf welche Art und Weise Aufgaben in einem solchen vernetzten Systemen bearbeitet werden sollten.  Dabei werden unterschiedliche Gebiete der Informatik berührt. Auf der untersten technischen Ebene geht es  um die Frage der Übertragung von Daten als elektrische Signale über Kabel. Auf der nächsthöheren Ebene beschäftigt man sich mit den Protokollen, die eine geordnete Kommunikation zwischen zwei Computern ermöglichen. In diesem Buch konzentrieren wir uns auf die Art und Weise wie Anwendungen programmiert werden, bei denen die Komponenten auf unterschiedlichen Rechnern ausgeführt werden und daher zur Erfüllung ihrer Aufgaben miteinander kommunizieren müssen. 

Über die letzten mehr als 40 Jahre wurden dafür viele verschiedene Techniken entwickelt. Eine der ersten Verfahren war der so genannte Nachrichtenaustausch, bei dem zwei Computer miteinander kommunizieren, indem sie Datenpakete austauschen. Aus Sicht des Programmierers wird damit die Verteilung der Komponenten auf verschiedenen Rechnern offen gelegt und sichtbar gemacht, denn er muss die Nachricht explizit an einen bestimmten Empfänger schicken. 

In späteren Jahren wurden dann Technologien entwickelt, bei denen die Verteilung der Komponenten für den Programmierer unsichtbar gemacht werden sollte. Das Ziel war es, dass man ein verteiltes System so programmieren kann wie ein System, das nur auf einem Computer läuft. Zum Beispiel sollte ein Prozeduraufruf für den Programmierer weitestgehend unsichtbar  auf einen anderen Computer weitergeleitet werden.  Er sollte also nicht merken dass ein Prozeduraufruf in Wahrheit nicht lokal sondern auf einem entfernten Rechner ausgeführt wird. Dieser so genannte entfernte Prozeduraufruf wurde später in den objektorientierten Programmiersprachen dann zu einem entfernten Methoden Aufruf. Eng mit diesem Ansatz verbunden ist Architektur eines Client-Server Systems. Zwei Rechner in einem verteilten System haben klaren Rollen zugewiesen bekommen. Ein Rechner arbeitet als Server, der seine Dienste anderen Rechner anbietet. Clients wiederum benötigen diese zur Verfügung gestellte Dienstleistung und fragen sie bei einem Server an. Wir werden uns in diesem Buch ausschließlich mit diesem Ansatz beschäftigen. 

Damit solche Ansätze funktionieren, sind umfangreiche Softwarebibliotheken notwendig sowie Standards, die die Kommunikation und die verwendeten Protokolle genau beschreiben. Es ist durchaus aufwändig, solche Ansätze speziell in heterogenen Umgebungen einzusetzen, bei dem die Komponenten auf Rechnern mit unterschiedlichen Betriebssystemen existieren.   Man muss sich zunächst darüber einigen, welche Datentypen verwendet werden sollen, welche Darstellungsformate verwendet wird wie strukturierte Daten repräsentiert werden.

## Motivation

Seit über 20 Jahren gibt es einen Ansatz zur Programmierung von verteilten Systemen, dessen Prinzipien dem Beispiel des wahrscheinlich größten und erfolgreichsten verteilten System folgen, das wir derzeit kennen: dem World Wide Web.  Der Name dieses Ansatzes lautet REST und das ist eine Abkürzung für Representational State Transfer.  Was dieser erst mal unverständliche Name bedeutet, werden wir im weiteren Verlauf dieses Buches klären.

Der Ursprung dieses Ansatzes geht zurück auf Roy Fielding, der ihn in seiner Doktorarbeit vorgestellt hat. Fielding ist Miterfinder des World Wide Web  und Mitautor der wesentlichen Standards, wie zum Beispiel des dem World Wide Web zugrunde liegenden Übertragungsprotokoll Hypertext Transfer Protocol (HTTP). REST ist ein Paradigma oder eine Architekturvorlage und lässt sich in einem ersten Schritt vielleicht am Besten verstehen, wenn man es als die allgemeinen Prinzipien hinter HTTP betrachtet. 

Nach der Veröffentlichung dieser Doktorarbeit mussten allerdings noch viele Jahre vergehen, bevor die Ideen und Ansätze bei den Entwicklern von verteilten Systemen angekommen sind. Anfang der 2000er Jahre befand sich die IT gerade auf der Welle der sogenannten Web Services auf der Basis des SOAP Protokolls. Vermutlich war dort kein Raum für eine Idee wie REST, die durchaus radikal anders anmutet. Mittlerweile ist der Begriff REST in aller Munde, viele Entwickler beschäftigen sich mit der Entwicklung von Systemen, die den Ideen von REST folgen. Es ist durchaus angemessen zu sagen, dass dieser Begriff mittlerweile zu einem Modewort geworden ist, mit dem Entwickler und Firmen ihre Fähigkeit nachweisen wollen, auf aktuelle Trends zu reagieren. 

Leider existiert oftmals ein großer Unterschied zwischen den ursprünglichen Ideen von Roy Fielding und der Umsetzung dieser Ideen in heutigen Systemen. Der Grund dafür liegt in der offenen Definition von REST.  Sie ist unvermeidbar unscharf und offen formuliert und kann deswegen von den Entwicklern in verschiedene Richtungen interpretiert werden. Da der Begriff  REST oft in sehr naher Verbindung zu HTTP gesehen wird, halten viele Entwickler jedes System, dass dieses Netzwerkprotokoll verwendet, für REST-artig. Ein weiteres Missverständnis scheint jedoch in der Tatsache zu liegen, dass die Prinzipien hinter REST nur einige der Komponenten in einem verteilten System betreffen. In Wahrheit geht es um die Entwicklung aller Komponenten in einem verteilten System, also Client und Server. 

Der Architekturstil REST wurde von Roy Fielding in seiner Doktorarbeit im Jahr 2000 beschrieben. Die dort gewählte Darstellung in Form von Beschränkungen (engl. constraints) ist sehr abstrakt und für Studierende oft nicht einfach zu verstehen. Bei der Programmierung eines Client/Server System basierend auf den Ideen von REST bleiben viele Fragen offen, die dann durch eine schier endlose Menge von Informationen in diversen Tutorials und vor allem auf dem Portal Stackoverflow beantwortet werden. Leider meist falsch oder zumindest verkürzt, so dass Studierende die dahinterliegenden Prinzipien von REST nicht vollständig verstehen können. 

REST unterscheidet sich von den vorherigen Technolgien zur Programmierung verteilter Systeme in einigen wesentlichen Punkten. Zunächst, es ist keine Technologie. Es ist ein Paradigma und damit eine Sammlung von Empfehlungen, wie ein verteiltes System zu bauen ist. Es ist keine Technologie, die man in Form von Software-Bibliotheken oder Frameworks einsetzen kann. Natürlich gibt es mittlerweile zahlreiche Bibliotheken, die Entwickler bei der Erstellung von solchen Systemen unterstützen, dabei aber die Konformität von REST natürlich nicht sicherstellen können. Zweitens, REST stellt Ideen für offene Systeme bereit, wohingegen RPC oder RMI eher für geschlossene Systeme geeignet sind. Unter einem offenen System verstehen wir an dieser Stelle, dass der Server seine Dienste in Form einer Schnittstelle öffnet, so dass sie von anderen Komponenten, den schon erwähnten Clients benutzt werden können. Client und Server kommen dabei nicht aus einer Hand sondern können von unterschiedenen Stellen entwickelt worden sein. In einem geschlossenen System hingegen werden die Komponenten meist von der selben Organisation hergestellt und die Schnittstellen zwischen Client und Server sind nicht offen und für andere verwendbar. 

Der Erfolg, den REST in den letzten Jahren erfährt, rührt vor allem aus dieser Offenheit, denn sie korreliert stark mit anderen Entwicklungen in der IT. Alle großen Service Anbieter aus dem Social Network Umfeld wie Facebook, Twitter und E-Commerce wie Amazon haben ihre Systeme oder zumindest Teile davon für die Nutzung über solche Schnittstellen geöffnet. Im technischen Umfeld bezeichnen wir solche Schnittstellen als Application Programming Interface oder kurz API. APIs sind in der Softwareentwicklung weit verbreitet. So bezeichnet man zum Beispiel die Menge der Funktionen einer Softwarebibliothek als API. Diese Art von Schnittstellen sollen aber nicht Thema dieses Buches sein. Wir beschäftigen uns mit solchen Schnittstellen von Computersystemen, über die andere Computer über eine Netzwerkschnittstelle Dienste in Anspruch nehmen können. 

Über eine solche API kann im Prinzip jeder, technisches Verständnis und die Fähigkeiten zur Programmierung natürlich vorausgesetzt seine eigene mobile Applikation für den Zugriff auf Facebook oder Twitter schreiben und man ist nicht mehr auf die Nutzung der orginalen Apps angewiesen. Selbst wenn man nicht selbst solche Apps programmiert, so nutzen wir alle doch täglich diese offenen Schnittstellen, wenn wir anderen Apps den Zugriff auf Facebook oder Twitter erlauben, um in unserem Namen Statusmeldungen abzusetzen. 

In diesem Themenbereich sprechen wir dann gerne von RESTful APIs, also Schnittstellen, die von Service-Anbietern bereit gestellt werden und den Prinzipien von REST folgen. Neben der Offenheit gibt es als zweiten Vorteil die Einfachheit. Eine REST API ist einfach zu benutzen, man muss keine langen Dokumentationen oder gar Spezifikationen lesen sondern in vergleichsweise kurzer Zeit einen Client gegen eine REST API entwickeln. 

Es gibt Stimmen, die den Gedanken von API als nächsten großen Trend sehen, der die aktuelle Welle der mobilen Applikatonen ablösen oder zumindest sehr gut ergänzen könnte. Im Jahr 2009 hat Eric Schmidt, der damalige Präsident von Google auf dem Mobile World Congress in Barcelona die Divise Mobile First ausgegeben. Darunter versteht man den strategischen Wechsel von Web-basierten Desktop-Anwendungen hin zu mobilen Lösungen. Wenn eine Firma in der heutigen Zeit einen neuen Service anbietet, dann wird oftmals zunächst die mobile Lösung entwickelt bevor eine Web-Seite entsteht. Der Markt hat sich gewandelt, die Kunden wollen als erstes die mobile Lösung. 

In Anlehnung von den Slogan von Eric Schmidt könnte man nun API First ausrufen. Dort wo wir vor zehn Jahren für die Bereitstellung einer neuen Lösung oder Dienstleistung noch eine Webseite und vor fünf Jahren noch eine mobile Applikation entwickelt haben, sollten wir heute überlegen, ob wir diese Dienstleistung nicht als erstes über eine solche API anbieten sollten. Wenn wir unsere Dienstleistung eigentlich über eine Webseite oder eine mobile Applikationen anbieten wollen, ist es trotzdem vorteilhaft, sich zunächst Gedanken über eine solche API zu machen. Denn, auch wir können dann unsere Webseite oder die mobile Applikation über unsere eigene API benutzen. Zusätzlich bietet uns eine solche API die Möglichkeit, andere Firmen die Möglichkeit zu bieten, eigene Lösung anzubieten, die vielleicht ausschließlich vielleicht aber auch in Kombination mit weiteren Dienstleistungen benutzen.

Mit der Bereitstellung einer API abstrahieren wir von allen Fragen der Darstellung der Informationen gegenüber den Endbenutzer. Wir konzentrieren uns auf die notwendigen Daten und die Funktionen zur Bearbeitung dieser Daten. Dies scheint im Hinblick auf die Entwicklung einer sauberen Softwarearchitektur sehr vorteilhaft zu sein. Wir konzentrieren uns also auf die beiden unteren Schichten, nämlich die Geschäftslogik und die Datenbankschicht einer typischen Dreischichtenarchitektur. Die Repräsentationsschicht, die für die Darstellung der Inhalte für den Endbenutzer verantwortlich ist, wird gemäß des Grundgedankens einer verteilten Applikation auf den Client übertragen und erfolgt dann später. 

Wir beschäftigen uns in diesem Buch mit solchen Systemen, bei denen der Client nicht nur für das Anzeigen einer Seitenbeschreibungssprache wie im World Wide Web verantwortlich ist, sondern für die Ausführung eines Programms. Dies kann sowohl eine Javascript Applikation sein, die in einem Web-Browser ausgeführt wird. Es kann aber auch eine mobile Applikation sein, die für die Betriebssysteme Android oder iOS entwickelt wurde. In beiden Fällen erfolgt eine Netzwerkkommunikation zwischen dem Client und dem Server, meist über das HTTP Protokoll. Die Art und Weise, wie der Server Daten und Funktionen über das HTTP Protokoll in genau diesen beiden Fällen anbietet, ist das Thema dieses Buches. 

## Zielgruppe und Vorwissen

Studierende der Informatik und verwandter Studiengänge, die sich die Programmierung von verteilten Client/Server Systemen interessieren. Ein Grundverständnis von Netzwerkkommunikation über TCP/IP ist sinnvoll, aber nicht unbedingt notwendig. Es wird erwartet, dass Studierende eine objekt-orientierte Programmiersprache gut beherrschen. Die hier gezeigten Beispiele werden in der Sprache Java geschrieben sein. 

## Die didaktische Methode

In diesem Buch stehen sowohl das Protokoll HTTP als auch die konkrete Implementierung in Java im Vordergrund. 

Es existieren bereits einige Bücher zum Thema Programmieren von REST. Entweder betrachten diese Bücher lediglich die theoretischen Konzepte die sich aus der grundlegenden Dissertation von Fielding ergeben haben. Es werden die verschiedenen HTTP Verben, die Themen Ressourcen und Repräsentationsformate, und weitere technische Themen wie zum Beispiel Caching diskutiert. Solchen Büchern fehlt es dann jedoch an praktischen Beispielen, an denen der Leser die theoretischen Konzepte nachvollziehen oder selbst erproben kann. 

Auf der andern Seite existieren sehr praktisch orientierte Bücher zur Programmierung von APIs. Der Fokus bei diesen Büchern liegt auf  Frameworks in den verschiedenen Programmiersprachen.  Die theoretischen Konzepte einer Rest API werden dabei leider auch nur insoweit beschrieben, wie sie in den konkreten Framework unterstützt werden bzw. für die Entwicklung einer API mithilfe dieser Framework benötigt werden.
 
In diesem Buch werden wir uns dem Thema REST von drei Seiten nähern. Zu Beginn werden wir aufbauend auf dem HTTP Protokoll die Grundprinzipien von REST erläutern. Dabei werden wir die theoretische Betrachtung der Ideen und die praktische Implementierung in der Programmiersprache Java und mit Hilfe eines Framework mischen. Ein großer Unterschied zu anderen Büchern wird sein, dass wir nicht nur die Seite des Service-Anbieters betrachten, sondern auch immer die Seite des Clients und vor allem das Zusammenspiel zwischen diesen beiden Komponenten. Für die Client Programmierung werden wir sowohl Java als auch Javascript einsetzen, wiederum mit Unterstützung von üblichen Frameworks. Ein weiterer Unterschied zu anderen Büchern wird sein, dass wir uns stets bemühen werden, auf die heute geltenden Standards rund um das HTTP Protokoll einzugehen. 

In einem zweiten Teil des Buches werden wir auf die Verwendung oder Benutzung von REST APIs eingehen. Der Leser soll an einigen ausgewählten Beispielen den Umgang mit existierenden API kennen lernen und selber üben. Nebenbei werden wir bei der Diskussion der einzelnen existierenden APIs auch jeweils überprüfen, inwieweit die Ideen und Vorgaben von REST eingehalten werden. Dabei wird sich zeigen, dass die meisten derzeit existierenden APIs, die sich selbst als REST-artig oder REST-konform bezeichnen, lediglich die Grundgedanken von REST umsetzen. Es gibt sicherlich Extremfälle, bei denen eine API selbst die einfachsten Prinzipien von REST nicht oder falsch anwendet. Auf der andern Seite existieren nur wenige APIs, von denen wir sagen können dass sie alle Prinzipien von REST korrekt anwenden. 

Im dritten Teil dieses Buches soll es dann um einige weiterführende Themen geben, die eng mit der Programmierung von verteilten Systemen verknüpft sind und für den praktischen Einsatz unerlässlich sind. Dabei soll es vor allem die die Themen Datenbanken und Skalierbarkeit gehen. 

## Überblick über den Inhalt 